---
const whatsappNumber = "5491128649412";
const whatsappMessage = "Hola! Necesito asistencia";
---

<footer class="bg-black py-8">
  <div class="container mx-auto px-4 sm:px-6 md:px-24 lg:px-24 2xl:px-4">
    <div class="flex flex-col md:flex-row items-start justify-between gap-8">
      <div class="w-full md:w-1/4 order-1 md:order-none">
        <div class="h-20 md:h-24 flex flex-col">
          <h2 class="text-primary-light text-3xl md:text-4xl font-titles tracking-titles mb-4">
            CONTACTO
          </h2>
          <div class="underline-animation h-1.5 w-20 bg-primary-light"></div>
        </div>

        <div class="space-y-4 text-base xl:text-xl font-body">
          <div
            class="group border-b border-primary-light transition-all duration-300"
          >
            <a 
              href="https://www.google.com.ar/maps/place/Laprida+344,+A4400+Salta/@-24.7931064,-65.4279931,17z/data=!3m1!4b1!4m6!3m5!1s0x941bc3ad774769b5:0x55a83aa9c6fe337a!8m2!3d-24.7931113!4d-65.4254182!16s%2Fg%2F11h7jgt0y8?entry=ttu&g_ep=EgoyMDI0MTExMy4xIKXMDSoASAFQAw%3D%3D"
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center text-white pb-2 hover:text-primary-light transition-colors duration-300"
            >
              <span class="mr-3">
                <svg
                  class="w-6 h-6 text-primary-light"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                  ></path>
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"
                  ></path>
                </svg>
              </span>
              Laprida 344 - Salta, Arg.
            </a>
          </div>

          <div
            class="group border-b border-primary-light transition-all duration-300"
          >
            <p class="flex items-center text-white pb-2">
              <span class="mr-3">
                <svg
                  class="w-6 h-6 text-primary-light"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                  ></path>
                </svg>
              </span>
              387 422 1379 / 387 4421655
            </p>
          </div>

          <div
            class="group border-b border-primary-light transition-all duration-300"
          >
            <p class="flex items-center text-white pb-2">
              <span class="mr-3">
                <svg
                  class="w-6 h-6 text-primary-light"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </span>
              Lunes a Sábado 9 a 18 hs.
            </p>
          </div>
        </div>
      </div>

      <!-- Logo -->
      <div class="flex flex-col items-center w-full md:w-1/4 order-3 md:order-none mt-8 md:mt-0">
        <a 
          href="#" 
          class="scroll-to-top cursor-pointer" 
          aria-label="Volver al inicio"
        >
          <img src="" alt="Logo Agrob" class="w-40 xl:w-full max-w-[200px]">
        </a>
      </div>

      <!-- Formulario de Contacto -->
      <div class="w-full md:w-1/4 order-2 md:order-last mt-8 md:mt-0" id="contact">
        <div class="grid grid-cols-2 gap-4 mb-4">
          <input
            type="text"
            placeholder="NOMBRE"
            class="p-2 bg-neutral-800 border-b border-neutral-700 text-white text-sm font-body focus:border-primary-light focus:outline-none placeholder:text-neutral-500 placeholder:font-titles placeholder:tracking-titles"
          />
          <input
            type="text"
            placeholder="APELLIDO"
            class="p-2 bg-neutral-800 border-b border-neutral-700 text-white text-sm font-body focus:border-primary-light focus:outline-none placeholder:text-neutral-500 placeholder:font-titles placeholder:tracking-titles"
          />
        </div>
        <div class="grid grid-cols-2 gap-4 mb-4">
          <input
            type="email"
            placeholder="CORREO"
            class="p-2 bg-neutral-800 border-b border-neutral-700 text-white text-sm font-body focus:border-primary-light focus:outline-none placeholder:text-neutral-500 placeholder:font-titles placeholder:tracking-titles"
          />
          <input
            type="tel"
            placeholder="TELEFONO"
            class="p-2 bg-neutral-800 border-b border-neutral-700 text-white text-sm font-body focus:border-primary-light focus:outline-none placeholder:text-neutral-500 placeholder:font-titles placeholder:tracking-titles"
          />
        </div>
        <textarea
          placeholder="MENSAJE"
          class="w-full p-2 bg-neutral-800 border-b border-neutral-700 text-white text-sm font-body h-32 mb-4 focus:border-primary-light focus:outline-none placeholder:text-neutral-500 placeholder:font-titles placeholder:tracking-titles resize-none"
        ></textarea>
        <button
          class="w-full bg-primary-light text-white py-2 px-6 hover:bg-primary-light/90 transition-all duration-300 font-titles tracking-titles"
        >
          Enviar Mensaje
        </button>
      </div>
    </div>

    <!-- Derechos Reservados -->
    <div class="mt-12 md:mt-8 border-t border-gray-700 pt-4 text-center">
      <p class="text-gray-500 text-sm font-body">
        AGROBESAN SRL Todos los derechos reservados
      </p>
      <p class="text-gray-500/60 text-xs mt-2 font-body tracking-wide">
        Made with <span class="text-red-400 animate-pulse inline-block">♥</span
        > by Boicot
      </p>
    </div>
  </div>
</footer>

<a
  href={`https://api.whatsapp.com/message/RD6UYEDUO347K1?autoload=1&app_absent=0`}
  class="fixed bottom-6 right-6 z-50 group"
  aria-label="Chatear por WhatsApp"
  target="_blank"
  rel="noopener noreferrer"
>
  {/* Efecto de ping */}
  <div class="absolute -inset-2">
    <div class="w-full h-full animate-ping rounded-full bg-green-500/30"></div>
  </div>

  {/* Tooltip */}
  <div class="absolute bottom-full right-0 mb-4 hidden group-hover:block">
    <div
      class="bg-white px-4 py-2 rounded-xl shadow-lg text-sm font-body text-gray-900 whitespace-nowrap"
    >
      Chatear por WhatsApp
      {/* Flecha del tooltip */}
      <div class="absolute bottom-0 right-6 w-2 h-2 -mb-1 rotate-45 bg-white">
      </div>
    </div>
  </div>

  {/* Botón principal */}
  <div
    class="relative flex items-center justify-center w-16 h-16 text-white bg-green-500 rounded-full shadow-lg hover:bg-green-500/90 transform hover:-translate-y-1 transition duration-200"
  >
    <i class="fab fa-whatsapp text-3xl"></i>
  </div>
</a>

<style>
  @keyframes ping {
    75%,
    100% {
      transform: scale(2);
      opacity: 0;
    }
  }
  .animate-ping {
    animation: ping 2s cubic-bezier(0, 0, 0.2, 1) infinite;
  }

  .underline-animation {
    width: 0;
    opacity: 0;
    transition:
      width 0.8s ease-out,
      opacity 0.3s ease-out;
  }

  .underline-animation.visible {
    width: 5rem; /* w-20 equivale a 5rem */
    opacity: 1;
  }
</style>

<script>
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
          observer.unobserve(entry.target);
        }
      });
    },
    {
      threshold: 0.1,
    },
  );

  document.querySelectorAll(".underline-animation").forEach((el) => {
    observer.observe(el);
  });

  const scrollLink = document.querySelector('.scroll-to-top');
  if (scrollLink) {
    scrollLink.addEventListener('click', (e) => {
      e.preventDefault();
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });
  }
</script>
